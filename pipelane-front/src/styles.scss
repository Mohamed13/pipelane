@use '@angular/material' as mat;
@use './theme/tokens' as tokens;
@use './theme/index' as *;

@include mat.elevation-classes();
@include mat.app-background();

$primary-palette: mat.m2-define-palette(mat.$m2-indigo-palette, 500, 300, 700);
$accent-palette: mat.m2-define-palette(mat.$m2-cyan-palette);
$warn-palette: mat.m2-define-palette(mat.$m2-deep-orange-palette);

$light-theme: mat.m2-define-light-theme((
  color: (
    primary: $primary-palette,
    accent: $accent-palette,
    warn: $warn-palette,
  ),
  density: 0,
));

$dark-theme: mat.m2-define-dark-theme((
  color: (
    primary: $primary-palette,
    accent: $accent-palette,
    warn: $warn-palette,
  )
));

@include mat.all-component-themes($light-theme);

html.theme-dark {
  @include mat.all-component-colors($dark-theme);
}
html,
body {
  height: 100%;
}
body {
  margin: 0;
  font-family: Inter, system-ui, Arial, sans-serif;
  background: var(--color-bg);
  color: var(--color-text);
}
.spacer { flex: 1; }
.shell-container { height: 100vh; background: var(--color-bg); }
.toolbar { position: sticky; top: 0; z-index: 10; backdrop-filter: saturate(1.1) blur(8px); background: color-mix(in srgb, var(--color-surface) 85%, transparent); border-bottom: 1px solid var(--color-border); }
.title { font-weight: 600; margin-left: .5rem; letter-spacing: .2px; }
.lang { margin-left: var(--space-4); background: transparent; color: var(--color-text); border: 1px solid var(--color-border); border-radius: var(--radius-sm); padding: .25rem .5rem; }
.search { width: clamp(140px, 20vw, 240px); margin-right: var(--space-3); }

.content { padding: var(--space-5); background: var(--color-bg); min-height: calc(100vh - 64px); }

.reveal-init { opacity: 0; transform: translateY(16px); transition: opacity 280ms ease, transform 280ms ease; }
.reveal-visible { opacity: 1; transform: translateY(0); }

/* Spacing utilities */
.m-1{margin:var(--space-1)}.m-2{margin:var(--space-2)}.m-3{margin:var(--space-3)}.m-4{margin:var(--space-4)}.m-5{margin:var(--space-5)}.m-6{margin:var(--space-6)}
.p-1{padding:var(--space-1)}.p-2{padding:var(--space-2)}.p-3{padding:var(--space-3)}.p-4{padding:var(--space-4)}.p-5{padding:var(--space-5)}.p-6{padding:var(--space-6)}

/* Card hover */
.mat-mdc-card { border-radius: var(--radius-xl) !important; box-shadow: var(--elevation-1) !important; background: var(--color-surface) !important; transition: transform var(--transition-fast), box-shadow var(--transition-fast); }
.mat-mdc-card:hover { transform: translateY(-4px); box-shadow: var(--elevation-2) !important; }

/* Material palette overrides (basic) */
.mat-mdc-raised-button.mat-primary, .mat-mdc-unelevated-button.mat-primary { background: var(--color-primary) !important; color: white !important; }
.mat-mdc-raised-button.mat-accent, .mat-mdc-unelevated-button.mat-accent { background: var(--color-accent) !important; }
.mat-mdc-raised-button.mat-warn, .mat-mdc-unelevated-button.mat-warn { background: var(--color-warn) !important; }

mat-sidenav {
  background: var(--color-surface);
  border-right: 1px solid var(--color-border);
  width: 240px;
  padding: var(--space-4);
}

.brand {
  font-weight: 700;
  letter-spacing: .4px;
  margin-bottom: var(--space-4);
}

mat-nav-list a.mat-list-item {
  border-radius: var(--radius-md);
  margin-bottom: var(--space-2);
}

mat-nav-list a.mat-list-item.active {
  background: rgba(99,102,241,0.12);
  color: var(--color-primary);
}

@media (max-width: 960px) {
  .toolbar { padding-left: .5rem; }
  .content { padding: var(--space-4); }
}

@media (max-width: 600px) {
  mat-sidenav { width: 80vw; }
  .lang { display: none; }
  .content { padding: var(--space-3); }
}
